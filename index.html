<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Jogo da Mem√≥ria ‚Äî Emoji Royale</title>

<!-- Tailwind CDN (apenas para utilidades r√°pidas; opcional) -->
<script src="https://cdn.tailwindcss.com"></script>

<style>
  /* Fonte e reset */
  :root{
    --bg:#0f1724; --card:#0b1220; --accent:#7c3aed; --muted:#9aa7bf;
    --glass: rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box}
  html,body{
    height:100%;margin:0;
    font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    background:linear-gradient(180deg,#061021 0%, #071423 60%);
    color:#e6eef8;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px
  }
  .app{max-width:1100px;width:100%;display:flex;gap:18px;align-items:flex-start}

  /* Left column - game */
  .panel{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:18px;border-radius:14px;
    box-shadow:0 10px 30px rgba(2,6,23,.6);
    flex:1;min-width:320px
  }
  h1{font-size:20px;margin:0 0 8px 0;color:var(--accent)}
  .sub{color:var(--muted);font-size:13px;margin-bottom:12px}

  .header-row{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-bottom:12px}
  .controls{display:flex;gap:8px;align-items:center}
  input[type="text"], select{
    padding:8px;border-radius:8px;border:0;
    background:rgba(255,255,255,0.03);color:inherit;
    width:160px
  }

  /* board */
  .board-wrap{display:flex;gap:18px;flex-direction:column;align-items:center}
  .grid{
    display:grid;
    grid-template-columns:repeat(4, 86px);
    gap:12px;justify-content:center;background:transparent
  }

  .card{
    width:86px;height:86px;perspective:900px;
    border-radius:10px;cursor:pointer;
  }
  .card-inner{
    position:relative;width:100%;height:100%;
    transition:transform .6s;
    transform-style:preserve-3d;
    border-radius:10px
  }
  .card.flipped .card-inner{
    transform:rotateY(180deg)
  }

  .face{
    position:absolute;inset:0;
    border-radius:10px;
    display:flex;align-items:center;justify-content:center;
    font-size:32px;
    backface-visibility:hidden;
    user-select:none
  }

  /* CORRE√á√ÉO AQUI!!! */
  .face.front {
    background:linear-gradient(135deg,#0b1220,#0f1b2a);
    color:#cdd9ff;
    font-weight:700;
    transform:rotateY(0deg); /* frente NUNCA deve come√ßar virada */
  }
  .face.back {
    background:var(--accent);
    color:white;
    font-size:28px;
    transform:rotateY(180deg); /* imagem escondida */
  }

  /* skins */
  .skin-dot .face.front{
    background: linear-gradient(135deg,#111827,#0b1220);
    background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size:14px 14px;
  }
  .skin-lines .face.front{
    background: linear-gradient(135deg,#081025, #0b1630);
    background-image: linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
    background-size:6px 6px;
  }
  .skin-plain .face.front{
    background:linear-gradient(135deg,#08203a,#0b1230)
  }

  .hud{display:flex;gap:10px;align-items:center;margin-top:12px}
  .chip{background:var(--glass);padding:8px 10px;border-radius:999px;font-weight:600;color:var(--muted);font-size:13px}

  footer{margin-top:12px;color:var(--muted);font-size:13px;text-align:center}
</style>
</head>
<body>
<div class="app">

  <div class="panel">
    <div class="header-row">
      <div>
        <h1>Jogo da Mem√≥ria ‚Äî Emoji Royale</h1>
        <div class="sub">Derrote o tempo ‚Äî personalize o visual ‚Äî compartilhe seus recordes</div>
      </div>
      <div class="controls">
        <input id="playerName" type="text" placeholder="@seunome" />
        <select id="skinSelect">
          <option value="skin-dot">Padr√£o (punk)</option>
          <option value="skin-lines">Linhas</option>
          <option value="skin-plain">Sutil</option>
        </select>
        <button id="startBtn" class="btn">Come√ßar</button>
      </div>
    </div>

    <div class="board-wrap">
      <div class="hud">
        <div class="chip">Tempo: <span id="timeDisplay">00:00</span></div>
        <div class="chip">Tentativas: <span id="attemptsDisplay">0</span></div>
        <div class="chip">Melhor: <span id="bestDisplay">--:--</span></div>
      </div>

      <div id="grid" class="grid mt-4"></div>

      <div style="margin-top:14px;display:flex;gap:8px;justify-content:center">
        <button id="resetBtn" class="btn alt">Reiniciar</button>
        <button id="shareBtn" class="btn">Compartilhar resultado</button>
      </div>
    </div>

    <footer class="muted">Salvo localmente no seu navegador. Para tornar p√∫blico, compartilhe o link no Instagram.</footer>
  </div>
</div>

<script>
(() => {

  const EMOJIS = ['üçì','üçç','üçâ','üçá','ü•ù','üçã','ü•≠','üçí'];
  let gridEl = document.getElementById('grid');
  let timeDisplay = document.getElementById('timeDisplay');
  let attemptsDisplay = document.getElementById('attemptsDisplay');

  let cards = [];
  let first = null, second = null;
  let lock = false;
  let matches = 0;
  let attempts = 0;
  let timer = 0;
  let timerId = null;

  function formatTime(sec){
    const m = Math.floor(sec/60);
    const s = sec%60;
    return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }

  function createGrid(){
    gridEl.innerHTML = '';

    const arr = [...EMOJIS, ...EMOJIS].sort(() => Math.random() - 0.5);

    cards = [];
    arr.forEach((emoji) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="card-inner">
          <div class="face front">?</div>
          <div class="face back">${emoji}</div>
        </div>
      `;
      card.dataset.emoji = emoji;
      card.addEventListener('click', onCardClick);
      gridEl.appendChild(card);
      cards.push(card);
    });
  }

  function startTimer(){
    if(timerId) return;
    timer = 0;
    timeDisplay.textContent = formatTime(timer);
    timerId = setInterval(() => {
      timer++;
      timeDisplay.textContent = formatTime(timer);
    }, 1000);
  }

  function stopTimer(){
    clearInterval(timerId);
    timerId = null;
  }

  function onCardClick(e){
    if(lock) return;
    const card = e.currentTarget;
    if(card.classList.contains('flipped')) return;

    card.classList.add('flipped');
    if(!first){
      first = card;
    } else {
      second = card;
      lock = true;
      attempts++;
      attemptsDisplay.textContent = attempts;
      checkMatch();
    }

    if(timerId === null){
      startTimer();
    }
  }

  function checkMatch(){
    setTimeout(() => {
      if(first.dataset.emoji === second.dataset.emoji){
        matches++;
        resetSelection();
      } else {
        first.classList.remove('flipped');
        second.classList.remove('flipped');
        resetSelection();
      }
    }, 600);
  }

  function resetSelection(){
    [first, second] = [null, null];
    lock = false;
  }

  function resetGame(){
    stopTimer();
    matches = 0;
    attempts = 0;
    attemptsDisplay.textContent = 0;
    createGrid();
  }

  document.getElementById('startBtn').addEventListener('click', resetGame);
  document.getElementById('resetBtn').addEventListener('click', resetGame);

  createGrid();

})();
</script>

</body>
</html>
